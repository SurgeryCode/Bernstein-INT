if(!customElements.get("filestore-section")){class a extends HTMLElement{constructor(){super();const o=this.querySelector(".js-filestore-list"),d=this.querySelectorAll(".js-filestore-item"),l=this.querySelector(".js-filestore-no-results"),e=this.querySelector(".js-filestore-open-filters-hld"),a=this.querySelectorAll(".js-filestore-main-category"),r=this.querySelectorAll(".js-filestore-sub-category"),s=this.querySelectorAll(".js-filestore-type"),t=this.querySelector("#filestore-search");var i=this.querySelectorAll("[data-modal-trigger]");a.forEach(t=>{t.addEventListener("click",()=>{o.setAttribute("data-main-category",""),o.setAttribute("data-sub-category",""),"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","false"),r.forEach(e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")}),d.forEach(e=>{e.setAttribute("aria-hidden","false")})):(a.forEach(e=>{e.setAttribute("aria-expanded","false")}),t.setAttribute("aria-expanded","true"),o.setAttribute("data-main-category",t.dataset.mainCategory),r.forEach(e=>{e.setAttribute("aria-expanded","false"),e.dataset.mainCategory===t.dataset.mainCategory?e.setAttribute("aria-hidden","false"):e.setAttribute("aria-hidden","true")}))})}),r.forEach(e=>{e.addEventListener("click",()=>{"true"===e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),o.setAttribute("data-sub-category","")):(r.forEach(e=>{e.setAttribute("aria-expanded","false")}),e.setAttribute("aria-expanded","true"),o.setAttribute("data-sub-category",e.dataset.subCategory))})}),s.forEach(t=>{t.addEventListener("click",()=>{s.forEach(e=>{e.setAttribute("aria-expanded","false")}),t.setAttribute("aria-expanded","true"),o.setAttribute("data-type",t.dataset.type);var e=new URL(window.location.href);e.searchParams.set("type",t.dataset.type),window.history.pushState({},"",e)})}),t.addEventListener("input",()=>{o.setAttribute("data-search",t.value.toLowerCase())});new MutationObserver(e=>{e.forEach(function(e){if("attributes"===e.type){const a=o.getAttribute("data-main-category"),r=o.getAttribute("data-sub-category"),s=o.getAttribute("data-type"),i=o.getAttribute("data-search");let t=0;d.forEach(e=>{a&&e.dataset.mainCategory!==a||r&&e.dataset.subCategory!==r||s&&e.dataset.type!==s||i&&!e.dataset.search.includes(i)?e.setAttribute("aria-hidden","true"):(e.setAttribute("aria-hidden","false"),t++)}),0===t?l.setAttribute("aria-hidden","false"):l.setAttribute("aria-hidden","true")}})}).observe(o,{attributes:!0,attributeFilter:["data-main-category","data-sub-category","data-type","data-search"]}),window.addEventListener("scroll",()=>{window.lastScroll<66?e.classList.remove("filestore__filters-button--sticky"):e.classList.add("filestore__filters-button--sticky")});var n=document.querySelector("#drawer-filestore-filters");const c=()=>{const e=document.querySelectorAll(".drawer");e.forEach(e=>e.classList.remove("drawer--opened")),setTimeout(()=>{e.forEach(e=>e.style.display="none"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right")},300)};if(n){n=n.querySelector(".drawer__scroll-inner");n.innerHTML=document.querySelector(".filestore__filters-hld").innerHTML;const y=n.querySelectorAll(".js-filestore-main-category"),b=n.querySelectorAll(".js-filestore-sub-category");y.forEach(t=>{let a=!1;b.forEach(e=>{e.dataset.mainCategory===t.dataset.mainCategory&&(a=!0)}),a?t.classList.add("filestore__main-category--has-subcategories"):t.classList.add("filestore__main-category--no-subcategories")}),y.forEach(t=>{t.addEventListener("click",()=>{"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","false"),b.forEach(e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")})):t.classList.contains("filestore__main-category--no-subcategories")?(o.setAttribute("data-main-category",t.dataset.mainCategory),window.scrollTo(0,0),c()):(y.forEach(e=>{e.setAttribute("aria-expanded","false")}),t.setAttribute("aria-expanded","true"),b.forEach(e=>{e.setAttribute("aria-expanded","false"),e.dataset.mainCategory===t.dataset.mainCategory?e.setAttribute("aria-hidden","false"):e.setAttribute("aria-hidden","true")}))}),b.forEach(e=>{e.addEventListener("click",()=>{o.setAttribute("data-main-category",e.dataset.mainCategory),o.setAttribute("data-sub-category",e.dataset.subCategory),window.scrollTo(0,0),c()})})})}function u(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}i.forEach(e=>{e.addEventListener("click",()=>{const t=document.createElement("div");t.classList.add("modal-hld"),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.innerHTML=`
                        <div class="modal-background" data-modal-close></div>
                        <div class="modal-content">
                            <button class="modal-close" data-modal-close>
                                <span class="visually-hidden">Close</span>
                            </button>
                            <div class="modal-inner">
                                ${e.querySelector("[data-modal-content]").innerHTML}
                            </div>
                        </div>
                    `,t.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal-hld--closing"),setTimeout(()=>{t.remove()},200)})}),document.body.appendChild(t)})}),u("type")&&document.querySelector(`.js-filestore-type[data-type="${u("type")}"]`)&&document.querySelector(`.js-filestore-type[data-type="${u("type")}"]`).click()}}customElements.define("filestore-section",a)}