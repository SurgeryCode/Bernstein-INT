<link rel="stylesheet" href="{{ 'section-drawer.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>
    {{ 'section-drawer.css' | asset_url | stylesheet_tag }}
</noscript>
<script src="{{ 'drawer.js' | asset_url }}" defer="defer"></script>

{%- liquid 
    assign categories = ''
    paginate shop.metaobjects.inspiration.values by 999
        for entry in shop.metaobjects.inspiration.values
            for cat in entry.categories.value
                unless categories contains cat
                    assign categories = categories | append: cat | append: ';'
                endunless
            endfor
        endfor
    endpaginate

    assign categories = categories | split: ';'
-%}


<drawer-section class="drawer" id="drawer-inspirations-filters" tabindex="-1">
    <div class="drawer__content">
        <button 
            title="{{ 'accessibility.close' | t }}" 
            aria-label="{{ 'accessibility.close' | t }}"
            class="drawer__close"
            data-drawer-close>
                {%- render 'svg-icon', name: 'close' -%}
        </button>

        <div class="drawer__header">
            <span class="f-24 w-bold">{{ 'inspirations.filter' | t }}</span>
        </div>

        <div class="drawer__scroll filters">
            <div class="drawer__scroll-inner drawer__scroll-inner--offset">           
                <div class="chips">
                    <ul>
                        {%- for item in categories -%}
                            <li>
                                <label for="drawer-filter-{{ item | handleize }}" class="checkbox checkbox--chip">
                                    <input type="checkbox" name="drawer-filters" value="{{ item }}" id="drawer-filter-{{ item | handleize }}">
                                    <span class="button button--small button--outline">{{ item }}</span>
                                </label>
                            </li>
                        {%- endfor -%}
                    </ul>
                </div>
            </div>
        </div>

        <div class="drawer__buttons drawer__buttons--border">
            <button class="button button--large" data-drawer-close>   
                {{ 'collection.filters.submit' | t }}
                <span data-filters-count></span>
            </button>
            <a href="{{ collection.url }}" class="text-link text-link--reverse f-14 w-medium upper spaced" data-reset-filters>
                <span>{{ 'collection.filters.reset' | t }}</span>
            </a>
        </div>
    </div>
</drawer-section>