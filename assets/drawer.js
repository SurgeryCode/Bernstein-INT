if(!customElements.get("drawer-section")){class a extends HTMLElement{constructor(){super(),this.header=document.querySelector(".header"),this.content=this.querySelector(".drawer__content"),this.heading=this.querySelector("[data-drawer-heading]"),this.richtext=this.querySelector("[data-drawer-richtext]"),this.addEventListener("click",()=>{this.close()}),this.querySelectorAll("[data-drawer-close]").forEach(e=>{e.addEventListener("click",()=>{this.close()})}),this.content.addEventListener("click",e=>{e.stopPropagation()}),this.scrollbar=new PerfectScrollbar(this.querySelector(".drawer__scroll"),{suppressScrollX:!0,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:0});var e=new ResizeObserver(e=>{this.scrollbar.update()});e.observe(this.content),e.observe(this.querySelector(".drawer__scroll-inner")),window.addEventListener("drawerOpen",e=>{var t;"drawer-collection-filters"!==e.detail.id&&"drawer-search-filters"!==e.detail.id||(t=this.querySelector(".drawer__scroll-sort"))&&(t.open="sort-opened"===e.detail.richtext),e.detail.id==this.id&&((e.detail.heading||e.detail.richtext)&&this.loadText(e.detail),this.open())}),window.addEventListener("drawerClose",e=>{this.close()}),window.addEventListener("escPressed",()=>{this.close()})}open(){this.style.display="flex",document.body.style.overflow="hidden",document.body.style.paddingRight=window.scrollbarWidth+"px",this.header.style.paddingRight=window.scrollbarWidth+"px",setTimeout(()=>{this.classList.add("drawer--opened"),document.body.classList.add("hide-badges")}),this.scrollbar.update()}close(){const e=document.querySelectorAll(".drawer");e.forEach(e=>e.classList.remove("drawer--opened")),setTimeout(()=>{e.forEach(e=>e.style.display="none"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),this.header.style.removeProperty("padding-right")},300)}loadText(e){this.heading&&e.heading&&(this.heading.innerHTML=e.heading),this.richtext&&e.richtext&&(this.richtext.innerHTML=e.richtext)}}customElements.define("drawer-section",a)}