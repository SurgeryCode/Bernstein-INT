if(!customElements.get("mega-menu")){class a extends HTMLElement{constructor(){if(super(),!window.megamenuBind){this.opened=!1,this.header=document.querySelector(".header"),this.button_open=document.querySelectorAll('[aria-controls="megamenu"]'),this.speed=300,this.scrollbar=void 0,this.content=this.querySelector(".megamenu__content"),this.sidebar=this.querySelector(".megamenu__sidebar"),this.cards=this.querySelector(".megamenu__cards"),this.footer=this.querySelector(".megamenu__footer"),this.sidebar_item=this.querySelectorAll(".megamenu__sidebar [aria-controls]");const e=window.matchMedia("(min-width: 1200px)");e.addEventListener("change",()=>this.onResize(e)),this.onResize(e),this.button_open.forEach(e=>{e.addEventListener("click",()=>{"false"==e.getAttribute("aria-expanded")?this.open():this.close()}),e.classList.contains("button--animated")&&(e.style.width=e.offsetWidth+"px")}),this.sidebar_item.forEach(e=>{e.addEventListener("click",()=>{this.querySelectorAll(".megamenu__sidebar a, .megamenu__sidebar button").forEach(e=>e.classList.remove("active")),e.classList.add("active"),this.openSubmenu()})}),this.querySelectorAll(".megamenu__back--categories").forEach(e=>{e.addEventListener("click",()=>{this.closeSubmenu()})}),window.addEventListener("closeMegaMenu",()=>{this.classList.contains("megamenu--open")&&this.close()}),window.megamenuBind=!0}}open(){document.body.classList.add("hide-badges"),window.dispatchEvent(new CustomEvent("closePredictiveSearch")),this.opened=!0,this.header.dispatchEvent(new CustomEvent("hold",{detail:{enabled:!0}})),this.slideDown(),setTimeout(()=>{this.classList.add("megamenu--open"),void 0!==this.scrollbar&&this.scrollbar.update()}),this.button_open.forEach(e=>{e.setAttribute("aria-expanded","true"),this.resizeButton(e,!0),this.header.classList.add("header--force-lighter")}),setTimeout(()=>{document.body.classList.add("hide-badges")},100)}close(){this.opened&&(this.opened=!1,this.header.dispatchEvent(new CustomEvent("hold",{detail:{enabled:!1}})),this.slideUp(),this.classList.remove("megamenu--open"),this.button_open.forEach(e=>{e.setAttribute("aria-expanded","false"),this.header.classList.remove("header--force-lighter"),this.resizeButton(e,!1)}),setTimeout(()=>{window.dispatchEvent(new CustomEvent("badgesScroll"))},300))}openSubmenu(){this.sidebar.style.display="none",this.footer.style.display="none",this.content.style.display="block",this.cards.style.display="grid"}closeSubmenu(){this.sidebar.style.display="block",this.footer.style.display="block",this.content.style.display="none",this.cards.style.display="none"}resizeButton(e,t){var s=e.querySelector('[data-expanded="true"]'),i=e.querySelector('[data-expanded="false"]');s&&i&&(e.offsetWidth<1||(s=s.offsetWidth-i.offsetWidth,e.style.width=t?e.offsetWidth+s+"px":e.offsetWidth-s+"px"))}onResize(e){this.close(),this.button_open.forEach(e=>{e.classList.contains("button--animated")&&(e.removeAttribute("style"),e.style.width=e.offsetWidth+"px")}),e.matches?void 0===this.scrollbar&&(this.scrollbar=new PerfectScrollbar(this.querySelector(".megamenu__content-inner"),{suppressScrollX:!0,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:60})):void 0!==this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=void 0)}slideUp(){this.style.transitionDuration=this.speed+"ms",this.style.height=this.offsetHeight+"px",this.offsetHeight,this.style.overflow="hidden",this.style.height=0,window.setTimeout(()=>{this.style.display="none",this.style.removeProperty("height"),this.style.removeProperty("overflow"),this.style.removeProperty("transition-duration")},this.speed)}slideDown(){this.style.removeProperty("display");let e=window.getComputedStyle(this).display,t=("none"===e&&(e="block"),this.style.display=e,this.offsetHeight);this.style.overflow="hidden",this.style.height=0,this.style.transitionDuration=this.speed+"ms",setTimeout(()=>{this.style.height=t+"px"}),window.setTimeout(()=>{this.style.removeProperty("height"),this.style.removeProperty("overflow"),this.style.removeProperty("transition-duration")},this.speed)}}customElements.define("mega-menu",a)}