if(!customElements.get("comparison-toolbar")){class a extends HTMLElement{constructor(){super(),this.isActive=!1,this.inner=this.querySelector(".comparison-toolbar__inner"),this.listing=this.closest(".listing"),this.count=this.querySelector("[data-compare-count]"),this.selected=[],this.images=this.querySelector(".comparison-toolbar__images"),this.reset_button=this.querySelector('button[type="reset"]'),this.reset_button&&this.reset_button.addEventListener("click",t=>{t.preventDefault(),this.reset()}),localStorage.removeItem("bernstein-comparison"),window.addEventListener("compareProduct",e=>{var t;e.detail.checked?(this.selected.push(e.detail.id),this.images&&((t=document.createElement("div")).setAttribute("data-id",e.detail.id),t.classList.add("tooltip"),t.innerHTML=`<picture class="media media--cover"><img src="${e.detail.image}" width="48" height="48" loading="lazy"></picture><div class="tooltip__caption f-12 w-bold">${e.detail.title}</div>`,this.images.append(t))):-1!=(t=this.selected.indexOf(e.detail.id))&&(this.selected.splice(t,1),this.images.querySelectorAll("[data-id]").forEach(t=>{t.getAttribute("data-id")==e.detail.id&&t.remove()})),localStorage.setItem("bernstein-comparison",JSON.stringify(this.selected)),this.update()})}update(){this.count&&(this.count.innerText=this.selected.length),0<this.selected.length?this.listing.classList.add("listing--compared"):this.listing.classList.remove("listing--compared"),1<this.selected.length?(this.isActive=!0,this.style.display="block",setTimeout(()=>{this.style.opacity="1"})):(this.isActive=!1,this.style.display="none",this.style.opacity="0")}reset(){this.selected=[],this.style.display="none",this.style.opacity="0",this.listing.classList.remove("listing--compared"),this.images.innerHTML="",document.querySelectorAll(".product-item__compare input").forEach(t=>{t.checked=!1}),this.count&&(this.count.innerText=0)}}customElements.define("comparison-toolbar",a)}