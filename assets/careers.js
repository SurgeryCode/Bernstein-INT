if(!customElements.get("careers-section")){class a extends HTMLElement{constructor(){super(),this.lang=document.documentElement.getAttribute("lang"),this.list=this.querySelector(".careers__list"),this.empty=this.querySelector(".careers__empty"),this.filters=this.querySelector(".careers__filters"),this.filters_department=this.querySelector("[data-filters-department]"),this.filters_location=this.querySelector("[data-filters-location]"),this.counter=this.querySelector("[data-careers-results]"),this.reset_button=this.querySelector('button[type="reset"]'),this.locations=[],this.departments=[],this.selected={department:[],location:[]},this.reset_button.addEventListener("click",()=>{this.reset()}),this.fetchJobs()}fetchJobs(){fetch("https://nextrend-gmbh.jobs.personio.de/xml';").then(e=>e.text()).then(e=>{var t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("position");if(this.counter.innerHTML=window.accessibility.careersResults,this.counter.querySelector("span").innerText=t.length,0<t.length){for(let e=0;e<t.length;e++){var s=t[e];this.drawItem(s),s.querySelector("office")&&this.locations.indexOf(s.getElementsByTagName("office")[0].textContent)<0&&this.locations.push(s.getElementsByTagName("office")[0].textContent),s.querySelector("department")&&this.departments.indexOf(s.getElementsByTagName("department")[0].textContent)<0&&this.departments.push(s.getElementsByTagName("department")[0].textContent)}this.filters.style.display="flex"}else this.list.style.display="none",this.empty.style.display="block";this.classList.remove("careers--loading"),this.bindFilters()})}drawItem(e){var t=e.getElementsByTagName("id")[0].textContent,s=e.getElementsByTagName("recruitingCategory"),t=`https://nextrend-gmbh.jobs.personio.de/job/${t}?language=${this.lang}&display=`+this.lang;let i="",n="",r="";var a,l=[];for(a of s)l.push(a.textContent);e.querySelector("office")&&(r=e.getElementsByTagName("office")[0].textContent,l.push(r)),e.querySelector("department")&&(n=e.getElementsByTagName("department")[0].textContent),e.getElementsByTagName("name")[0].textContent&&(i=`<h3 class="f-24"><a href="${t}" target="_blank" rel="noopener noreferrer">${e.getElementsByTagName("name")[0].textContent}</a></h3>`);s=document.createElement("div");s.classList.add("careers__item"),s.setAttribute("data-department",n),s.setAttribute("data-location",r),s.innerHTML=`<div class="careers__item-info">${i}<p class="gray">${l.join(", ")}</p></div><a href="${t}" target="_blank" rel="noopener noreferrer" class="text-link text-link--reverse f-14 w-medium upper spaced"><span>${window.accessibility.careersDetails}</span></a><a href="${t}" target="_blank" rel="noopener noreferrer" class="careers__item-chevron"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon icon--chevron-right"><path d="M9 19L16.1399 12.7526C16.5952 12.3542 16.5952 11.6458 16.1399 11.2474L9 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg></a>`,this.list.append(s)}bindFilters(){this.departments.sort(),this.locations.sort();const i='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon icon--checkbox"><rect x=".5" y=".5" width="23" height="23" rx="3.5" fill="#fff" stroke="#E5E5E5"/><path d="m6 13.522 2.635 2.732a1 1 0 0 0 1.44 0L19 7" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/></svg>';this.departments.forEach((e,t)=>{var s=document.createElement("li");s.innerHTML=`<label for="filter-department-${t}" class="checkbox w-medium"><input type="checkbox" name="department" value="${e}" id="filter-department-${t}">${i}<span>${e}</span></label>`,this.filters_department.append(s)}),this.locations.forEach((e,t)=>{var s=document.createElement("li");s.innerHTML=`<label for="filter-location-${t}" class="checkbox w-medium"><input type="checkbox" name="location" value="${e}" id="filter-location-${t}">${i}<span>${e}</span></label>`,this.filters_location.append(s)}),this.filters.querySelectorAll("input").forEach(t=>{t.addEventListener("change",()=>{var e=this.selected[t.name].indexOf(t.value);t.checked?e<0&&this.selected[t.name].push(t.value):-1!=e&&this.selected[t.name].splice(e,1),this.filter()})}),this.items=this.querySelectorAll(".careers__item")}filter(){if(this.items){let n=0;0<this.selected.department.length||0<this.selected.location.length?(this.reset_button.style.display="inline",this.items.forEach(e=>{var t=e.getAttribute("data-department"),s=e.getAttribute("data-location");let i=!0;0<this.selected.department.length&&this.selected.department.indexOf(t)<0&&(i=!1),(i=0<this.selected.location.length&&this.selected.location.indexOf(s)<0?!1:i)?(e.style.display="flex",n++):e.style.display="none"})):(this.reset_button.style.display="none",this.items.forEach(e=>e.style.display="flex"),n=this.items.length),0<(this.counter.querySelector("span").innerText=n)?this.empty.style.display="none":this.empty.style.display="block"}}reset(){this.selected={department:[],location:[]},this.filter(),this.filters.querySelectorAll("input").forEach(e=>e.checked=!1)}}customElements.define("careers-section",a)}