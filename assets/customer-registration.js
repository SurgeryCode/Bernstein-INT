if(!customElements.get("customer-registration")){class a extends HTMLElement{constructor(){super(),this.addresses=this.querySelectorAll("[data-address]");var e=this.querySelector("form");const t=this.querySelectorAll(".field-row--company");this.allowedCountries=this.getAttribute("data-b2b-countries").split(","),e.addEventListener("onSuccessSubmit",e=>{localStorage.removeItem("bernstein-ragistration-complete","1"),this.saveAddressess()}),e.querySelectorAll('[name="customer-type"]').forEach(e=>{e.addEventListener("change",e=>{"company"==e.target.value?(t.forEach(e=>e.style.display="flex"),this.filterCountries(!1)):(t.forEach(e=>e.style.display="none"),this.filterCountries(!0))})})}saveAddressess(){var e=[];e.push({first_name:this.querySelector('[name="customer[first_name]"]').value,last_name:this.querySelector('[name="customer[last_name]"]').value,company:this.querySelector('[name="customer[note][company]"]').value,address1:this.querySelector('[name="address1-0"]').value,address2:this.querySelector('[name="address2-0"]').value,zip:this.querySelector('[name="zip-0').value,city:this.querySelector('[name="city-0"]').value,country:this.querySelector('[name="country-0"]').value,phone:this.querySelector('[name="phone-0"]').value,default:1}),this.querySelector("#RegisterForm-different-shipping-address").checked&&e.push({first_name:this.querySelector('[name="first_name-1"]').value,last_name:this.querySelector('[name="last_name-1"]').value,company:"",address1:this.querySelector('[name="address1-1"]').value,address2:this.querySelector('[name="address2-1"]').value,zip:this.querySelector('[name="zip-1').value,city:this.querySelector('[name="city-1"]').value,country:this.querySelector('[name="country-1"]').value,phone:this.querySelector('[name="phone-1"]').value,default:0}),localStorage.setItem("bernstein-ragistration-addresses",JSON.stringify(e))}filterCountries(t=!0){var e=this.querySelectorAll('select[name*="country"]');e.length&&e.forEach(e=>{t?e.querySelectorAll("option").forEach(e=>{e.hidden=!1}):e.querySelectorAll("option").forEach(e=>{this.allowedCountries.includes(e.value)?e.hidden=!1:e.hidden=!0})})}}customElements.define("customer-registration",a)}