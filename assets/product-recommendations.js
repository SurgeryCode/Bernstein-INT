if(!customElements.get("product-recommendations")){class a extends HTMLElement{constructor(){super(),this.container=this.querySelector(".swiper-wrapper"),this.getAttribute("data-sku")?(this.sku=this.getAttribute("data-sku").split(","),this.fetchErpRecommendations()):this.fetchAutoRecommendations()}async fetchErpRecommendations(){var e=this.sku.map(e=>fetch(routes.search_url+`?type=product&q=variants.sku:${e}&view=sku-recommendation`).then(e=>e.text()));let t=0;for(const i of await Promise.all(e)){var r=document.createElement("div");r.innerHTML=i,r.classList.add("swiper-slide"),r&&r.innerHTML.trim().length&&(this.container.append(r),t++)}this.formatReviewsCount()}fetchAutoRecommendations(){var e=this.dataset.url;fetch(e).then(e=>e.text()).then(e=>{var t=document.createElement("div"),e=(t.innerHTML=e,t.querySelector(".swiper-wrapper"));e&&e.innerHTML.trim().length&&(this.container.innerHTML=e.innerHTML),this.formatReviewsCount()}).catch(e=>{console.error(e)})}formatReviewsCount(){this.container.querySelectorAll(".jdgm-prev-badge__text").forEach(e=>{var t=e.innerHTML.replace("reviews","review").split(" review");e.innerHTML=`(${t[0].replace(/\s/g,"")})`,e.style.visibility="visible"})}}customElements.define("product-recommendations",a)}