class PagePreviewTile extends HTMLElement{connectedCallback(){var e=this.getAttribute("page-url");const o=this.getAttribute("block-id");fetch(e).then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"text/html");console.log("doc",e);const t=".page-image-reference",r=".page-reference .slideshow__badge",n=".page-reference .page-title-reference",i=".page-reference .page-subtitle-reference",a=".page-reference .page-counter-reference";var l,c,g={image:document.getElementById("tile_"+o),badge:document.getElementById("badge_"+o),title:document.getElementById("title_"+o),subtitle:document.getElementById("subtitle_"+o),counter:document.getElementById("counter_"+o)},e={image:e.querySelector(t),badge:e.querySelector(r),title:e.querySelector(n),subtitle:e.querySelector(i),counter:e.querySelector(a)};e.image&&g.image&&(g.image.src=e.image.srcset),e.badge&&g.badge&&(g.badge.innerHTML=e.badge.innerHTML,c=(l=Array.from(e.badge.classList)).find(e=>e.startsWith("badge-text-color--")),l=l.find(e=>e.startsWith("badge-background--")),c&&(c=c.replace("badge-text-color--",""),g.badge.style.color=c),l)&&(c=l.replace("badge-background--",""),g.badge.style.backgroundColor=c),e.title&&g.title&&(g.title.innerHTML=e.title.innerHTML),e.subtitle&&g.subtitle&&(g.subtitle.innerHTML=e.subtitle.innerHTML),e.counter&&g.counter&&(g.counter.innerHTML=e.counter.innerHTML)})}}customElements.define("page-preview-tile",PagePreviewTile);